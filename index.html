<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Of CICIIII</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>HI CICIIIII</h1>
            <p class="subtitle">The one who stole my heart ❤️</p>
        </header>

        <!-- Hidden audio element with preload attribute -->
        <audio id="background-music" preload="auto" loop style="display: none;">
            <source src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/ssstik.io_1738878662905-bJgJvzVHEwSoDZK5op37HBtO5cwMvB.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>

        <!-- Small play button that will appear if autoplay fails -->
        <div id="play-sound-notice" style="text-align: center; margin-bottom: 15px; display: none;">
            <button id="play-sound-btn" style="background: #e91e63; color: white; border: none; padding: 5px 15px; border-radius: 20px; cursor: pointer;">
                Tap to play music
            </button>
        </div>

        <div class="content">
            <div class="photo-section">
                <!-- 3D scene behind photo -->
                <div id="photo-background-scene" class="photo-background-scene"></div>
                
                <div class="photo-container" data-tilt data-tilt-max="25" data-tilt-glare data-tilt-max-glare="0.5">
                    <!-- Replace with actual photo of Citra -->
                    <img src="CICI.jpg" alt="Citra Purbayasari" id="photo">
                </div>
                
                <!-- 3D scene below photo -->
                <div id="photo-bottom-scene" class="photo-bottom-scene"></div>
            </div>

            <div class="description">
                <p>Citra adalah seseorang yang luar biasa dengan hati dan jiwa yang indah. Senyumnya mencerahkan bahkan hari-hari tergelap, dan tawanya adalah melodi terindah yang pernah kudengar.</p>
                
                <p>Dia memiliki kepribadian yang menakjubkan yang menggabungkan kebaikan, kecerdasan, dan selera humor yang hebat. Setiap momen yang dihabiskan bersamanya adalah harta yang kusimpan di hatiku.</p>
                
                <p>Matanya bersinar dengan mimpi dan sentuhannya terasa seperti rumah. Dia adalah teman kepercayaanku, sahabat terbaikku, dan cinta dalam hidupku.</p>
                
                <button id="love-button" class="love-button">I Love You ❤️</button>
            </div>
        </div>

        <div class="animation-container">
            <div id="love-scene" class="scene"></div>
        </div>

        <div class="flower-container">
            <div id="flower-scene" class="scene"></div>
        </div>

        <footer>
            <p>Made with love for Citra Purbayasari</p>
        </footer>
    </div>

    <script src="script.js"></script>
    
    <!-- Add this script to ensure audio plays -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('background-music');
            const playNotice = document.getElementById('play-sound-notice');
            const playBtn = document.getElementById('play-sound-btn');
            
            // Try to play audio immediately
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay started successfully
                    console.log('Audio playing automatically');
                    
                    // Stop after 60 seconds
                    setTimeout(() => {
                        audio.pause();
                        audio.currentTime = 0;
                    }, 60000);
                })
                .catch(error => {
                    // Autoplay was prevented
                    console.log('Autoplay prevented:', error);
                    
                    // Show the play button
                    playNotice.style.display = 'block';
                    
                    // Add click event to play button
                    playBtn.addEventListener('click', function() {
                        audio.play()
                            .then(() => {
                                playNotice.style.display = 'none';
                                
                                // Stop after 60 seconds
                                setTimeout(() => {
                                    audio.pause();
                                    audio.currentTime = 0;
                                }, 60000);
                            })
                            .catch(err => console.log('Still cannot play audio:', err));
                    });
                    
                    // Also try to play on first user interaction with the page
                    document.body.addEventListener('click', function bodyClick() {
                        audio.play()
                            .then(() => {
                                playNotice.style.display = 'none';
                                document.body.removeEventListener('click', bodyClick);
                                
                                // Stop after 60 seconds
                                setTimeout(() => {
                                    audio.pause();
                                    audio.currentTime = 0;
                                }, 60000);
                            })
                            .catch(err => console.log('Still cannot play audio on body click:', err));
                    }, { once: true });
                });
            }
        });
    </script>
</body>
</html>

